<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Two Redirect Half Fullscreen</title>

  <script>
    function a() {

      // hitung setengah layar
      var wWidth  = Math.floor(screen.width / 2);
      var wHeight = Math.floor(screen.height / 2);
      var wLeft   = Math.floor((screen.width - wWidth) / 2);
      var wTop    = Math.floor((screen.height - wHeight) / 2);

      // 1️⃣ buka window pertama (redirect 1)
      var w = window.open(
        'https://google.com',
        'x',
        `width=${wWidth},
         height=${wHeight},
         left=${wLeft},
         top=${wTop},
         resizable=yes,
         scrollbars=yes`
      );

      // 2️⃣ redirect ke halaman kedua
      setTimeout(function () {
        w.location.href = 'about:blank';

        // 3️⃣ tulis konten SETELAH redirect kedua
        setTimeout(function () {
          w.document.open();
          w.document.write(`
            <!DOCTYPE html>
            <html>
            <head>
              <title>Injected</title>
            </head>
            <body style="
              margin:0;
              height:100vh;
              display:flex;
              justify-content:center;
              align-items:center;
              background:black;
              color:lime;
              font-family:Arial;
            ">
              <div>
                <h1>✅ 2 Redirect Berhasil</h1>
                <p>Setengah fullscreen & stabil</p>
              </div>
            </body>
            </html>
          `);
          w.document.close();
        }, 500);

      }, 1000);
    }
  </script>
</head>

<body>
  <center>
    <input type="button" value="Click me!" onclick="a()">
  </center>
</body>
</html>
